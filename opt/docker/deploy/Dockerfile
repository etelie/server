FROM arm64v8/amazoncorretto:17

ARG SERVER_PORT
ENV SERVER_PORT=${SERVER_PORT}
EXPOSE ${SERVER_PORT}

ARG BUILD_TAG
ENV BUILD_TAG=${BUILD_TAG}

ARG LOGGING_LEVEL
ENV LOGGING_LEVEL=${LOGGING_LEVEL}

ARG EXECUTION_ENVIRONMENT
ENV EXECUTION_ENVIRONMENT=${EXECUTION_ENVIRONMENT}

COPY com.etelie.server-* /libs/
CMD java -jar /libs/com.etelie.server-${BUILD_TAG}.jar
